# آموزش تبدیل کلید خصوصی SSH به فرمت .ppk برای PuTTY

در این راهنما، مراحل تبدیل یک کلید خصوصی SSH (مانند `id_rsa`) به فرمت `.ppk` با استفاده از ابزار PuTTYgen توضیح داده شده است.

## پیش‌نیازها

* ابزار **PuTTYgen** (معمولاً همراه با نصب PuTTY ارائه می‌شود).
* فایل کلید خصوصی SSH شما (مثلاً `~/.ssh/id_rsa`).

## مراحل گام‌به‌گام

1.  **نصب یا اجرای PuTTYgen**
    * اگر PuTTY را نصب کرده‌اید، PuTTYgen معمولاً در همان بسته موجود است.
    * در ویندوز: PuTTYgen را از منوی Start یا پوشه نصب PuTTY اجرا کنید.
    * در لینوکس/مک: می‌توانید PuTTYgen را از طریق بسته PuTTY نصب کنید (مثلاً با `sudo apt install putty-tools` در اوبونتو) و سپس با دستور `puttygen` اجرا کنید.
2.  **باز کردن کلید خصوصی موجود**
    * PuTTYgen را باز کنید.
    * روی دکمه **"Load"** کلیک کنید.
    * در پنجره بازشده، گزینه **"All Files (\*.\*)"** را انتخاب کنید تا همه فایل‌ها نمایش داده شوند (چون فایل کلید خصوصی معمولاً پسوند ندارد).
    * به محل فایل کلید خصوصی خود بروید (مثلاً `id_rsa`) و آن را انتخاب کنید.
    * روی **"Open"** کلیک کنید.
3.  **وارد کردن رمز عبور (در صورت وجود)**
    * اگر کلید خصوصی شما با رمز عبور محافظت شده است، در این مرحله از شما خواسته می‌شود رمز عبور را وارد کنید.
    * رمز عبور را وارد کرده و **"OK"** را بزنید.
4.  **تنظیمات اختیاری (اختیاری)**
    * در صورت تمایل، می‌توانید یک **"Key passphrase"** جدید برای فایل `.ppk` تنظیم کنید:
        * در بخش **"Key passphrase"** و **"Confirm passphrase"** رمز دلخواه خود را وارد کنید.
    * اگر نمی‌خواهید رمز داشته باشد، این بخش را خالی بگذارید.
5.  **ذخیره کلید به فرمت .ppk**
    * روی دکمه **"Save private key"** کلیک کنید.
    * یک نام برای فایل انتخاب کنید (مثلاً `mykey.ppk`) و محل ذخیره‌سازی را مشخص کنید.
    * روی **"Save"** کلیک کنید.
6.  **استفاده از فایل .ppk در PuTTY**
    * PuTTY را باز کنید.
    * در بخش **"Connection > SSH > Auth > Credentials"**، روی **"Browse"** کلیک کنید.
    * فایل `.ppk` که ذخیره کرده‌اید را انتخاب کنید.
    * تنظیمات اتصال خود را تکمیل کنید (مانند IP سرور و پورت) و سپس **"Open"** را بزنید.

## نکات مهم

* فایل `.ppk` را در محلی امن نگه دارید، زیرا حاوی کلید خصوصی شماست.
* اگر با خطایی مواجه شدید (مثلاً فرمت نادرست فایل)، مطمئن شوید که فایل ورودی واقعاً یک کلید خصوصی SSH است و با فرمت OpenSSH سازگار است.

## رفع اشکال (در صورت نیاز)

* اگر PuTTYgen فایل را شناسایی نکرد، ممکن است لازم باشد کلید را ابتدا به فرمت استاندارد OpenSSH تبدیل کنید. برای این کار از دستور زیر در ترمینال استفاده کنید:

    ```bash
    ssh-keygen -p -f /path/to/your/private_key -m pem
    ```
